<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org"
	th:replace="~{layout/template :: layout(~{::title},~{::body/content()})}">
<head>
<title>Welcome</title>
</head>
<body>
	<div class="row">
		<h1>アナゴさん ものまね選手権</h1>
		<img>
		<form action="/mark" th:action="@{/mark}" method="post" enctype="multipart/form-data" th:object="${impersonationForm}">
			<input type="file" accept="audio/*" capture="microphone"
				id="recorder" th:field="*{uploadedFile}">
			<audio id="player" controls></audio>
			<input type="submit" value="採点">
		</form>
	</div>
	<script>
	  var recorder = document.getElementById('recorder');
	  var player = document.getElementById('player');

	  recorder.addEventListener('change', function(e) {
	    var file = e.target.files[0];
	    // Do something with the audio file.
	    player.src =  URL.createObjectURL(file);
	  });
	</script>

</body>
</html>